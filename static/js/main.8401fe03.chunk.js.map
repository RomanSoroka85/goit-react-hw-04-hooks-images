{"version":3,"sources":["Components/ImageError/ImageError.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/App/App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/images/error.jpg","Components/ImageError/ImageError.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","services/Api/images-api.js","Components/App/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","SearchForm","e","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","name","value","onChange","target","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","modalRoot","document","querySelector","Modal","modalImg","tags","onToggleModal","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","onClick","event","currentTarget","src","alt","ImageGalleryItem","id","previewImg","showModal","onImgClick","largeImageURL","ImageGalleryItemImage","ImageError","message","role","AlertWrapper","Img","errorImage","width","Message","ImageGallery","imageListContent","images","setShowModal","setModalImg","toggleModal","img","dataset","map","webformatURL","Button","onLoadMore","styles","spinner","display","alignItems","marginBottom","fontSize","Loader","style","size","key","axios","defaults","baseURL","params","page","a","get","hits","data","fetchImagesApi","App","setPage","setImages","loading","setLoading","fetchImages","scrollWindow","console","log","scrollTo","top","documentElement","scrollHeight","behavior","loadMoreImages","length","imagesListEmpty","autoClose","prev","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8401fe03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"ImageError_Message__oSUqH\",\"Img\":\"ImageError_Img__17pTI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__zH025\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__sQStJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2RVYF\",\"Modal\":\"Modal_Modal__27_QA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1jOPH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2JRCg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Iz-u\"};","import { useState } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\n\nfunction Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleQueryChange = (e) => {\n    setQuery(e.target.value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (query.trim() === \"\") {\n      return toast.error(\"Enter your query!\");\n    }\n    onSubmit(query);\n    setQuery(\"\");\n  };\n\n  return (\n    <div>\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            name=\"query\"\n            value={query}\n            onChange={handleQueryChange}\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    </div>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ modalImg, tags, onToggleModal }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onToggleModal();\n    }\n  };\n\n  const handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onToggleModal();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={modalImg} alt={tags} />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onToggleModal: PropTypes.func,\n  modalImg: PropTypes.string,\n  tags: PropTypes.string,\n};\n\nexport default Modal;\n","import s from \"./ImageGalleryItem.module.css\";\nimport Modal from \"../Modal/Modal\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGalleryItem({\n  id,\n  previewImg,\n  tags,\n  onToggleModal,\n  showModal,\n  modalImg,\n  onImgClick,\n  largeImageURL,\n}) {\n  return (\n    <>\n      <li className={s.ImageGalleryItem} key={id}>\n        <img\n          data-img={largeImageURL}\n          src={previewImg}\n          alt={tags}\n          className={s.ImageGalleryItemImage}\n          onClick={onImgClick}\n        />\n      </li>\n\n      {showModal && (\n        <Modal modalImg={modalImg} onToggleModal={onToggleModal} tags={tags} />\n      )}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number,\n  previewImg: PropTypes.string,\n  tags: PropTypes.string,\n  onToggleModal: PropTypes.func,\n  showModal: PropTypes.bool,\n  modalImg: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","export default __webpack_public_path__ + \"static/media/error.7d86105a.jpg\";","import errorImage from \"../images/error.jpg\";\nimport s from \"./ImageError.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageError({ message }) {\n  return (\n    <div role=\"alert\" className={s.AlertWrapper}>\n      <img className={s.Img} src={errorImage} width=\"240\" alt=\"sadcat\" />\n      <p className={s.Message}>There are no {message} images!</p>\n    </div>\n  );\n}\n\nImageError.propTypes = {\n  message: PropTypes.string,\n};\n","import { useState } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\nimport ImageError from \"../ImageError/ImageError\";\n\nfunction ImageGallery({ images }) {\n  const [showModal, setShowModal] = useState(false);\n  const [modalImg, setModalImg] = useState(\"\");\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const onImgClick = (e) => {\n    const { img } = e.target.dataset;\n    setModalImg(img);\n    toggleModal();\n  };\n\n  let imageListContent;\n\n  if (images) {\n    imageListContent = (\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n          <ImageGalleryItem\n            largeImageURL={largeImageURL}\n            key={id}\n            previewImg={webformatURL}\n            tags={tags}\n            onToggleModal={toggleModal}\n            showModal={showModal}\n            onImgClick={onImgClick}\n            modalImg={modalImg}\n          />\n        ))}\n      </ul>\n    );\n  } else {\n    <ImageError />;\n  }\n\n  return <div>{imageListContent}</div>;\n}\n\nImageGallery.propTypes = {\n  onImgClick: PropTypes.func,\n  onToggleModal: PropTypes.func,\n  showModal: PropTypes.bool,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    })\n  ),\n};\n\nexport default ImageGallery;\n","import s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { ImSpinner } from \"react-icons/im\";\n\nconst styles = {\n  spinner: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 10,\n    fontSize: 24,\n  },\n};\n\nfunction Loader() {\n  return (\n    <div role=\"alert\">\n      <div style={styles.spinner}>\n        <ImSpinner size=\"32\" className=\"icon-spin\" />\n        Loading...\n      </div>\n    </div>\n  );\n}\n\nexport default Loader;\n","import axios from \"axios\";\n\nconst key = \"18864788-659534fccb4bfac7e1ae65a8e\";\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\nconst params = \"image_type=photo&orientation=horizontal&per_page=12\";\n\nasync function fetchImagesApi(query, page) {\n  const {\n    data: { hits },\n  } = await axios.get(`?&q=${query}&page=${page}&key=${key}&${params}`);\n  return hits;\n}\n\nexport default fetchImagesApi;\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./App.module.css\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Loader from \"../Loader/Loader\";\nimport ImageError from \"../ImageError/ImageError\";\nimport fetchImagesApi from \"../../services/Api/images-api\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!query) return;\n    setLoading(true);\n    const fetchImages = async () => {\n      try {\n        const data = await fetchImagesApi(query, page);\n        setImages((images) => [...images, ...data]);\n        if (page !== 1) {\n          scrollWindow();\n        }\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchImages();\n  }, [page, query]);\n\n  const loadMore = () => {\n    setLoading(!loading);\n    setPage((prev) => prev + 1);\n    setLoading(loading);\n  };\n\n  const scrollWindow = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const handleFormSubmit = (query) => {\n    setQuery(query);\n    setPage(1);\n    setImages([]);\n  };\n\n  const loadMoreImages = images.length > 0 && images.length >= 12;\n  const imagesListEmpty = query !== \"\";\n\n  return (\n    <div className={s.App}>\n      <ToastContainer autoClose={3000} />\n      <Searchbar onSubmit={handleFormSubmit} />\n      {images.length > 0 ? (\n        <ImageGallery images={images} />\n      ) : (\n        imagesListEmpty && <ImageError message={query} />\n      )}\n      {loadMoreImages && <Button onLoadMore={loadMore} />}\n      {loading && <Loader />}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1NCX7\",\"SearchForm\":\"Searchbar_SearchForm__gN8lw\",\"SearchFormButton\":\"Searchbar_SearchFormButton__fui1e\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__Nqt8U\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3k5x3\"};"],"sourceRoot":""}